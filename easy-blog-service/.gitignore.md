# .gitignore 说明文档

本项目的 `.gitignore` 文件针对 NestJS + Prisma + TypeScript 技术栈进行了优化。

## 主要忽略的文件和目录

### 1. 依赖和包管理

- `node_modules/` - Node.js 依赖包
- `*.log` - 各种日志文件
- `yarn.lock`, `pnpm-lock.yaml` - 包管理器锁文件（保留 package-lock.json）

### 2. 构建输出

- `dist/` - TypeScript 编译输出
- `build/` - 构建目录
- `*.tsbuildinfo` - TypeScript 构建信息

### 3. 环境变量

- `.env*` - 所有环境变量文件
- 包含敏感信息，不应提交到版本控制

### 4. 数据库文件

- `*.db`, `*.sqlite`, `*.sqlite3` - 数据库文件
- `prisma/dev.db` - 开发数据库
- `prisma/migrations/` - Prisma 迁移文件（通常由团队共享）

### 5. 测试和临时文件

- `coverage/` - 测试覆盖率报告
- `*_cookies.txt`, `cookies*.txt` - 测试用的 cookie 文件
- `test-*.html`, `test-*.js` - 临时测试文件

### 6. 编辑器和 IDE

- `.vscode/*` - VSCode 配置（保留部分有用配置）
- `.idea/` - IntelliJ IDEA 配置
- 各种编辑器的临时文件

### 7. 操作系统文件

- `.DS_Store` - macOS 系统文件
- `Thumbs.db` - Windows 缩略图缓存
- 其他系统生成的文件

## 项目特定规则

### Prisma 相关

```gitignore
# Prisma
/generated/prisma
prisma/migrations/
prisma/dev.db
prisma/*.db
```

### 测试文件

```gitignore
# Test cookies and temporary files
*_cookies.txt
cookies*.txt
test-*.html
test-*.js
```

## 注意事项

1. **数据库文件**：开发数据库文件不应提交到版本控制
2. **环境变量**：包含敏感信息，使用 `.env.example` 作为模板
3. **构建输出**：`dist/` 目录会在构建时生成，不应提交
4. **依赖包**：`node_modules/` 目录很大，通过 `package.json` 重新安装

## 如何添加新的忽略规则

1. 在 `.gitignore` 文件中添加新规则
2. 使用 `git check-ignore <file>` 验证规则是否生效
3. 使用 `git status` 检查文件是否被正确忽略

## 常用命令

```bash
# 检查文件是否被忽略
git check-ignore <file>

# 查看当前 git 状态
git status

# 查看被忽略的文件
git status --ignored

# 强制添加被忽略的文件（不推荐）
git add -f <file>
```
